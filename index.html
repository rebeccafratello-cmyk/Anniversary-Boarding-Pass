<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boarding Pass Surprise ‚úàÔ∏è</title>
  <style>
    :root{
      --bg1:#ffe6ef;
      --bg2:#fff7fb;
      --ink:#3a2c34;
      --muted:#7a5d6a;
      --pink:#ff4d88;
      --pink2:#ff77a8;
      --shadow: 0 18px 45px rgba(255,77,136,.18);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      min-height:100vh;
      background:
        radial-gradient(1200px 800px at 30% 10%, #ffd3e3 0%, transparent 60%),
        radial-gradient(900px 700px at 80% 30%, #ffd9ee 0%, transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex;
      justify-content:center;
      padding:28px 14px 60px;
    }
    .app{ width:min(860px, 100%); }
    header{ text-align:center; margin-bottom:18px; }
    h1{
      margin:10px 0 8px;
      font-size:clamp(26px, 4vw, 38px);
      line-height:1.1;
      letter-spacing:-.02em;
    }
    .subtitle{
      margin:0 auto; max-width:62ch;
      color:var(--muted);
      font-size:16px; line-height:1.5;
    }

    .panel{
      margin-top:18px;
      background:rgba(255,255,255,.72);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,77,136,.15);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      padding:18px;
    }

    .hint{
      text-align:center;
      color:var(--muted);
      margin:0 0 12px;
      font-weight:800;
    }

    .ctaRow{
      display:flex; justify-content:center; gap:10px;
      margin-top:16px; flex-wrap:wrap;
    }
    .btn{
      border:0; border-radius:999px;
      padding:12px 18px; font-weight:900;
      cursor:pointer; color:white;
      background: linear-gradient(90deg, var(--pink), var(--pink2));
      box-shadow: 0 14px 28px rgba(255,77,136,.24);
      transition: .18s transform, .18s box-shadow, .18s opacity;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: 0 18px 34px rgba(255,77,136,.28); }
    .btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; }
    .btn.secondary{
      background: rgba(255,255,255,.8);
      color: var(--muted);
      border:1px solid rgba(255,77,136,.18);
      box-shadow: 0 10px 20px rgba(0,0,0,.04);
    }

    /* ---------- Views ---------- */
    .view{ display:none; }
    .view.active{ display:block; }

    /* ---------- Gift + pass ---------- */
    .ticketStage{
      display:grid;
      place-items:center;
      padding: 6px 0 4px;
      min-height: 460px;
      position:relative;
    }

    .gift{
      width: 220px;
      height: 220px;
      position:relative;
      border:0;
      background:transparent;
      cursor:pointer;
      filter: drop-shadow(0 18px 35px rgba(255,77,136,.20));
      transform-origin: 50% 70%;
      animation: giftWiggle 2.2s ease-in-out infinite;
    }
    @keyframes giftWiggle{
      0%,100%{ transform: rotate(0deg) translateY(0); }
      25%{ transform: rotate(-2deg) translateY(-1px); }
      50%{ transform: rotate(2deg) translateY(0); }
      75%{ transform: rotate(-1deg) translateY(-1px); }
    }

    .giftBox{
      position:absolute; inset: 44px 18px 18px 18px;
      border-radius: 18px;
      background: rgba(255,255,255,.90);
      border:1px solid rgba(255,77,136,.18);
    }
    .giftLid{
      position:absolute; inset: 18px 10px 146px 10px;
      border-radius: 18px;
      background: linear-gradient(90deg, rgba(255,77,136,.18), rgba(255,119,168,.16));
      border:1px solid rgba(255,77,136,.20);
      transform-origin: 50% 100%;
      transition: transform .55s cubic-bezier(.2,.9,.2,1), translate .55s cubic-bezier(.2,.9,.2,1), opacity .3s;
    }
    .giftRibbon{
      position:absolute; inset: 44px 18px 18px 18px;
      border-radius: 18px;
      background:
        linear-gradient(90deg, transparent 42%, rgba(255,77,136,.28) 42%, rgba(255,77,136,.28) 58%, transparent 58%),
        linear-gradient(0deg, transparent 42%, rgba(255,77,136,.22) 42%, rgba(255,77,136,.22) 58%, transparent 58%);
      pointer-events:none;
    }
    .giftTag{
      position:absolute;
      left:50%;
      top: 0;
      transform: translateX(-50%);
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(255,77,136,.18);
      color: var(--muted);
      font-weight: 1000;
      font-size: 12px;
      letter-spacing:.04em;
    }

    .ticketStage.open .gift{ animation:none; cursor:default; }
    .ticketStage.open .giftLid{
      transform: rotateX(65deg);
      translate: 0 -18px;
      opacity: 0;
    }

    .boardingWrap{
      width:min(720px, 100%);
      margin-top: 18px;
      display:none;
    }
    .ticketStage.open .boardingWrap{
      display:block;
      animation: passIn .55s cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes passIn{
      from{ opacity:0; transform: translateY(14px) scale(.98); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    /* ---------- Boarding pass ---------- */
    .boardingPass{
      position:relative;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,77,136,.22);
      background:
        radial-gradient(500px 140px at 20% 0%, rgba(255,77,136,.14), transparent 55%),
        radial-gradient(420px 160px at 90% 30%, rgba(255,119,168,.12), transparent 55%),
        rgba(255,255,255,.88);
      box-shadow: 0 18px 45px rgba(255,77,136,.16);
    }
    .boardingPass::before{
      content:"";
      position:absolute; inset:0;
      border-radius:18px;
      box-shadow: 0 0 0 2px rgba(255,77,136,.08);
      pointer-events:none;
    }
    .boardingPass::after{
      content:"‚ô•";
      position:absolute;
      top:10px; right:14px;
      font-size:16px;
      color: rgba(255,77,136,.55);
      transform: rotate(12deg);
      pointer-events:none;
    }

    .bpTop{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding: 14px 16px;
      background: linear-gradient(90deg, rgba(255,77,136,.18), rgba(255,119,168,.12));
      border-bottom: 1px solid rgba(255,77,136,.16);
      position:relative;
    }
    .bpTop::after{
      content:"";
      position:absolute;
      left:16px; right:16px;
      bottom:-1px;
      height:1px;
      background: repeating-linear-gradient(
        90deg,
        rgba(255,77,136,.22) 0 8px,
        transparent 8px 14px
      );
      opacity:.55;
    }
    .bpAirline{ font-weight: 1000; color: var(--pink); letter-spacing:.02em; }
    .bpType{ font-weight: 900; color: var(--muted); }

    .bpGrid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px 12px;
      padding: 14px 16px 6px;
    }
    .bpField{
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(255,77,136,.12);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .bpLabel{
      font-size: 12px;
      font-weight: 900;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing:.05em;
    }
    .bpValue{
      font-size: 16px;
      font-weight: 1000;
      margin-top: 2px;
      color: var(--ink);
    }

    .bpBottom{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap: 12px;
      padding: 10px 16px 16px;
    }
    .bpNote{
      font-weight: 900;
      color: var(--ink);
    }
    .bpTiny{
      display:block;
      margin-top: 4px;
      font-weight: 800;
      color: var(--muted);
    }

    .bpQR{
      width: 86px;
      height: 86px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      opacity:.55;
    }
    .qrBlock{
      background: rgba(58,44,52,.35);
      border-radius: 6px;
    }

    /* ---------- Departure animation (PLANE FIXED DIRECTION) ---------- */
    .departStage{
      min-height: 460px;
      display:grid;
      place-items:center;
      overflow:hidden;
      position:relative;
    }

    .sky{
      width: min(780px, 100%);
      height: 380px;
      border-radius: 22px;
      position:relative;
      overflow:hidden;
      border: 1px solid rgba(255,77,136,.16);
      background:
        radial-gradient(900px 420px at 20% 30%, rgba(255,255,255,.55), transparent 55%),
        radial-gradient(560px 340px at 80% 40%, rgba(255,255,255,.45), transparent 55%),
        linear-gradient(180deg, rgba(255,77,136,.14), rgba(255,255,255,.60));
      box-shadow: 0 18px 45px rgba(255,77,136,.12);
    }

    .cloud{
      position:absolute;
      top: 48px;
      left: -220px;
      width: 220px;
      height: 76px;
      border-radius: 999px;
      background: rgba(255,255,255,.80);
      filter: blur(.15px);
      opacity:.85;
      box-shadow: 0 18px 35px rgba(255,77,136,.08);
      animation: cloudDrift 18s linear infinite;
    }
    .cloud::before, .cloud::after{
      content:"";
      position:absolute;
      background: rgba(255,255,255,.82);
      width: 92px; height: 92px;
      border-radius: 999px;
      top: -34px; left: 28px;
    }
    .cloud::after{
      width: 120px; height: 120px;
      top: -54px; left: 92px;
      background: rgba(255,255,255,.74);
    }
    .cloud.c2{ top: 135px; opacity:.72; transform: scale(.92); animation-duration: 24s; }
    .cloud.c3{ top: 250px; opacity:.62; transform: scale(.78); animation-duration: 30s; }
    @keyframes cloudDrift{
      0%{ transform: translateX(-40px) }
      100%{ transform: translateX(1120px) }
    }

    .runway{
      position:absolute;
      left:-40px; right:-40px; bottom:-10px;
      height: 140px;
      background: linear-gradient(180deg, rgba(122,93,106,.10), rgba(58,44,52,.14));
    }
    .runway::before{
      content:"";
      position:absolute;
      left:0; right:0;
      top: 24px;
      height: 2px;
      background: rgba(255,255,255,.45);
    }
    .runway::after{
      content:"";
      position:absolute;
      left: 50%;
      top: 62px;
      transform: translateX(-50%);
      width: 60%;
      height: 5px;
      background: repeating-linear-gradient(
        90deg,
        rgba(255,255,255,.68) 0 18px,
        transparent 18px 38px
      );
      opacity:.78;
      border-radius:999px;
    }

    .planeWrap{
      position:absolute;
      left: -280px;
      bottom: 104px;
      width: 360px;
      height: 160px;
      z-index: 5;
      transform-origin: 70px 90px;
      filter: drop-shadow(0 18px 22px rgba(255,77,136,.18));
    }

    /* IMPORTANT: flip plane so nose points RIGHT (correct direction) */
    .planeSvg{
      width: 360px;
      height: 160px;
      display:block;
      transform: scaleX(-1);
      transform-origin: center;
    }

    /* contrail behind the plane (left side) */
    .contrail{
      position:absolute;
      left: -60px;
      top: 84px;
      width: 160px;
      height: 18px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.62), rgba(255,255,255,0));
      opacity:0;
      filter: blur(.3px);
    }
    .contrail::after{
      content:"";
      position:absolute; inset:-6px 0 -6px 0;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,77,136,0), rgba(255,77,136,.16), rgba(255,77,136,0));
      opacity:.75;
      filter: blur(5px);
    }

    .departStage.go .planeWrap{
      animation: takeoffSmooth 5.2s cubic-bezier(.18,.9,.22,1) forwards;
    }
    .departStage.go .contrail{
      animation: contrailOn 5.2s ease-out forwards;
    }
    .departStage.go .planeSvg{
      animation: microBob 1.2s ease-in-out infinite;
    }

    @keyframes microBob{
      0%,100%{ transform: scaleX(-1) translateY(0); }
      50%{ transform: scaleX(-1) translateY(-1.6px); }
    }
    @keyframes contrailOn{
      0%{ opacity:0; transform: translateX(0) scaleX(.7); }
      10%{ opacity:.95; }
      60%{ opacity:.55; }
      100%{ opacity:0; transform: translateX(-260px) scaleX(1.25); }
    }
    @keyframes takeoffSmooth{
      0%   { transform: translateX(0) translateY(0) rotate(0deg); }
      28%  { transform: translateX(420px) translateY(0) rotate(0deg); }
      48%  { transform: translateX(580px) translateY(-18px) rotate(-4deg); }
      72%  { transform: translateX(820px) translateY(-92px) rotate(-10deg); }
      100% { transform: translateX(1280px) translateY(-260px) rotate(-14deg); }
    }

    .miniText{
      text-align:center;
      font-weight:900;
      color: var(--muted);
      margin-top: 10px;
    }

    @media (max-width:520px){
      .panel{ padding:14px; }
      .planeWrap{ transform: scale(.85); transform-origin: left center; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>March 7th in Rome ‚ú®</h1>
      <p class="subtitle">Tap the gift. Reveal the boarding pass. Then press <b>Depart</b>.</p>
    </header>

    <section class="panel">
      <!-- VIEW 1: Ticket -->
      <div class="view active" id="view-ticket">
        <p class="hint">Tap the gift to reveal your boarding pass ‚úàÔ∏èüíò</p>

        <div class="ticketStage" id="ticketStage">
          <button class="gift" id="giftBtn" type="button" aria-label="Open gift">
            <span class="giftLid"></span>
            <span class="giftBox"></span>
            <span class="giftRibbon"></span>
            <span class="giftTag">tap me</span>
          </button>

          <div class="boardingWrap" id="boardingWrap" aria-hidden="true">
            <div class="boardingPass" id="boardingPass">
              <div class="bpTop">
                <div class="bpAirline">Halley‚Äôs Comet ‚ú®</div>
                <div class="bpType">BOARDING PASS</div>
              </div>

              <div class="bpGrid">
                <div class="bpField">
                  <div class="bpLabel">Passenger</div>
                  <div class="bpValue">Milana</div>
                </div>
                <div class="bpField">
                  <div class="bpLabel">Flight</div>
                  <div class="bpValue">Halley‚Äôs Comet</div>
                </div>

                <div class="bpField">
                  <div class="bpLabel">From</div>
                  <div class="bpValue">Wherever you are</div>
                </div>
                <div class="bpField">
                  <div class="bpLabel">To</div>
                  <div class="bpValue">Our Next Chapter</div>
                </div>

                <div class="bpField">
                  <div class="bpLabel">Date</div>
                  <div class="bpValue">07 MAR</div>
                </div>
                <div class="bpField">
                  <div class="bpLabel">Boarding</div>
                  <div class="bpValue">All day üíó</div>
                </div>

                <div class="bpField">
                  <div class="bpLabel">Gate</div>
                  <div class="bpValue">ROME</div>
                </div>
                <div class="bpField">
                  <div class="bpLabel">Seat</div>
                  <div class="bpValue">0703</div>
                </div>
              </div>

              <div class="bpBottom">
                <div class="bpNote">
                  Final call for the love of my life.
                  <span class="bpTiny">No destination ‚Äî just us.</span>
                </div>
                <div class="bpQR" aria-hidden="true">
                  <div class="qrBlock"></div><div class="qrBlock"></div><div class="qrBlock"></div>
                  <div class="qrBlock"></div><div class="qrBlock"></div><div class="qrBlock"></div>
                  <div class="qrBlock"></div><div class="qrBlock"></div><div class="qrBlock"></div>
                </div>
              </div>
            </div>

            <div class="ctaRow">
              <button class="btn secondary" id="resetTicket" type="button">Reset</button>
              <button class="btn secondary" id="printTicket" type="button">Print / Save</button>
              <button class="btn" id="departBtn" type="button">Depart ‚úàÔ∏è</button>
            </div>
          </div>
        </div>
      </div>

      <!-- VIEW 2: Departure animation -->
      <div class="view" id="view-depart">
        <p class="hint">Fasten your seatbelt üíó</p>

        <div class="departStage" id="departStage">
          <div class="sky" aria-hidden="true">
            <div class="cloud c1"></div>
            <div class="cloud c2"></div>
            <div class="cloud c3"></div>

            <div class="planeWrap" id="planeWrap" aria-hidden="true">
              <div class="contrail"></div>

              <!-- Real-looking cute airplane (SVG) -->
              <svg class="planeSvg" viewBox="0 0 640 280" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <defs>
                  <linearGradient id="fuse" x1="0" x2="1">
                    <stop offset="0" stop-color="rgba(255,255,255,.98)"/>
                    <stop offset="0.55" stop-color="rgba(255,255,255,.92)"/>
                    <stop offset="1" stop-color="rgba(255,255,255,.86)"/>
                  </linearGradient>
                  <linearGradient id="accent" x1="0" x2="1">
                    <stop offset="0" stop-color="rgba(255,77,136,.75)"/>
                    <stop offset="1" stop-color="rgba(255,119,168,.62)"/>
                  </linearGradient>
                  <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
                    <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="rgba(255,77,136,.18)"/>
                  </filter>
                </defs>

                <path filter="url(#softShadow)"
                      d="M110 150
                         C150 110, 215 95, 320 95
                         C435 95, 520 110, 560 140
                         C590 162, 590 190, 560 212
                         C520 242, 435 255, 320 255
                         C215 255, 150 240, 110 210
                         C80 190, 80 170, 110 150 Z"
                      fill="url(#fuse)" stroke="rgba(255,77,136,.25)" stroke-width="3"/>

                <path d="M110 150
                         C75 160, 60 176, 60 184
                         C60 198, 80 216, 110 210
                         C98 196, 98 164, 110 150 Z"
                      fill="rgba(255,255,255,.94)" stroke="rgba(255,77,136,.22)" stroke-width="3"/>

                <path d="M150 140
                         C175 120, 210 112, 250 112
                         C230 132, 190 150, 150 156 Z"
                      fill="rgba(47,34,42,.22)"/>

                <g fill="rgba(47,34,42,.22)">
                  <circle cx="250" cy="150" r="7"/>
                  <circle cx="280" cy="150" r="7"/>
                  <circle cx="310" cy="150" r="7"/>
                  <circle cx="340" cy="150" r="7"/>
                  <circle cx="370" cy="150" r="7"/>
                  <circle cx="400" cy="150" r="7"/>
                  <circle cx="430" cy="150" r="7"/>
                </g>

                <path d="M140 200
                         C210 228, 280 238, 320 238
                         C390 238, 470 220, 520 200
                         C480 222, 420 240, 320 245
                         C240 245, 185 230, 140 200 Z"
                      fill="url(#accent)" opacity=".9"/>

                <path d="M300 175
                         C360 170, 430 185, 505 225
                         C475 245, 410 250, 340 230
                         C315 222, 296 204, 300 175 Z"
                      fill="rgba(255,77,136,.25)" stroke="rgba(255,77,136,.22)" stroke-width="3"/>

                <path d="M360 170
                         C410 160, 460 168, 505 196
                         C480 210, 435 214, 390 202
                         C372 196, 360 186, 360 170 Z"
                      fill="rgba(255,119,168,.18)" stroke="rgba(255,77,136,.16)" stroke-width="3"/>

                <path d="M510 128
                         C520 95, 552 78, 586 88
                         C560 120, 548 158, 552 190
                         C530 186, 506 162, 510 128 Z"
                      fill="url(#accent)" stroke="rgba(255,77,136,.22)" stroke-width="3"/>

                <path d="M482 190
                         C474 180, 460 182, 458 194
                         C456 208, 472 214, 482 224
                         C492 214, 508 208, 506 194
                         C504 182, 490 180, 482 190 Z"
                      fill="rgba(255,77,136,.55)"/>
              </svg>
            </div>

            <div class="runway"></div>
          </div>
        </div>

        <div class="miniText" id="departText">Departing to our next chapter‚Ä¶</div>

        <div class="ctaRow">
          <button class="btn secondary" id="backBtn" type="button">Back</button>
          <button class="btn" id="replayBtn" type="button">Replay</button>
        </div>
      </div>
    </section>
  </div>

  <script>
    // Views
    const viewTicket = document.getElementById("view-ticket");
    const viewDepart = document.getElementById("view-depart");
    function show(which){
      viewTicket.classList.toggle("active", which === "ticket");
      viewDepart.classList.toggle("active", which === "depart");
    }

    // Ticket elements
    const ticketStage = document.getElementById("ticketStage");
    const giftBtn = document.getElementById("giftBtn");
    const boardingWrap = document.getElementById("boardingWrap");
    const resetTicket = document.getElementById("resetTicket");
    const printTicket = document.getElementById("printTicket");
    const departBtn = document.getElementById("departBtn");

    function openGift(){
      ticketStage.classList.add("open");
      boardingWrap.setAttribute("aria-hidden", "false");
      giftBtn.disabled = true;
      departBtn.disabled = false;
    }
    function resetGift(){
      ticketStage.classList.remove("open");
      boardingWrap.setAttribute("aria-hidden", "true");
      giftBtn.disabled = false;
      departBtn.disabled = true;
    }

    giftBtn.addEventListener("click", openGift);
    resetTicket.addEventListener("click", resetGift);
    printTicket.addEventListener("click", () => {
      if (!ticketStage.classList.contains("open")) openGift();
      window.print();
    });

    // Disable depart until opened
    departBtn.disabled = true;

    // Departure animation
    const departStage = document.getElementById("departStage");
    const backBtn = document.getElementById("backBtn");
    const replayBtn = document.getElementById("replayBtn");

    function runDepart(){
      show("depart");
      departStage.classList.remove("go");
      void departStage.offsetWidth; // reflow
      departStage.classList.add("go");
    }

    departBtn.addEventListener("click", runDepart);
    backBtn.addEventListener("click", () => show("ticket"));
    replayBtn.addEventListener("click", () => {
      departStage.classList.remove("go");
      void departStage.offsetWidth;
      departStage.classList.add("go");
    });
  </script>
</body>
</html>
